@using Microsoft.AspNetCore.Identity.Data

@rendermode InteractiveServer
@page "/"

@inject IConfiguration Configuration


<PageTitle>Mynydd</PageTitle>

@if (_loggedIn)
{
    <p>You are logged in!</p>
}
else
{
    <input type="password" @onchange="OnKeyDown"/>
}   

@code {

    private bool _loggedIn = false;
    private string _token = string.Empty;

    private async Task OnKeyDown(ChangeEventArgs e)
    {
        if (e.Value?.ToString() == Configuration["Mynydd:LoginToken"])
        {
            _loggedIn = true;
        }        
    }
}